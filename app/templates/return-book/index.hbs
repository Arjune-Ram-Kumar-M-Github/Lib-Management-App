{{page-title "Index"}}

<div class="container mt-5">
  <h1 class="text-center text-primary ">Return Book</h1>

   <div class="w-75 ml-auto mr-auto mt-3">
      <div class="form-row mb-3">
        <label for="user" class="col text-center font-weight-bolder">Select User :</label>
        <select class="form-control col" name="user" id="user"  {{on 'change' this.updateUserId}}>
          {{#each this.model as |user|}}
            <option value={{user.id}}>{{user.username}}</option>
          {{/each}}
        </select>
      </div>

      <div class="form-row justify-content-center mb-4">
           <button class="ml-3 btn btn-light"type="button" {{on 'click' this.showDetails}}>
            {{if this.showBookDetails "Hide Details" "Show Details"  }}
          </button>
      </div>

      {{#if this.showBookDetails}}
        {{#if this.userData.userBooks.length}}


          <h1 class="text-center text-primary mb-2">List of Books</h1>

          <ul class="list-group">
            {{#each this.userData.userBooks as |book|}}
              <li class="list-group-item text-center">
                  <LinkTo @route="books.book" @model={{book.id}}>
                    {{book.bookName}}
                  </LinkTo>
                  <button class="ml-3 btn btn-light" type="button" {{on 'click' (fn this.removeSelectedBook book.id)}}>Return</button>
              </li>
            {{/each}}
          </ul>
        {{else}}
          <h3 class="text-center text-danger">No Books Taken</h3>
      {{/if}}

      {{/if}}

   </div>

</div>




{{outlet}}